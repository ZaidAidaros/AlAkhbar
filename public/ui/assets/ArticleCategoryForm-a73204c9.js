import{_ as y,R as f,c as h,w as t,e as V,r as C,o as v,a as r,z as u,g as i,b as n,t as d,y as m,f as o,x as b,v as w,C as g}from"./index-5a23c2e4.js";import{a as c}from"./adminController-959b7f31.js";const F={components:{ResMsg:f},data:()=>({loading:!1,error:!1,msg:null,category:{enName:null,arName:null,enDescription:null,arDescription:null},rules:{required:e=>!!e||"Required."}}),mounted(){const e=this.$store.getters.getCategory;e&&(this.category=e)},methods:{onSubmit:async function(){const e=await this.$refs.categoryForm.validate();if(this.error=!1,this.msg=null,e.valid){this.loading=!0;let a=null;this.category.Id?a=await c.updateArticleCategory(this.category):a=await c.addArticleCategory(this.category),this.loading=!1,this.error=!a.state,this.msg=a.message,a.state&&(await this.$store.dispatch("setCategory",null),this.clearForm())}else this.error=!0,this.msg="Must Fill Fields correctly.."},clearForm:function(){this.category.name=null,this.category.description=null,this.category.Id&&delete this.category.Id}}};function D(e,a,N,k,S,s){const p=C("res-msg");return v(),h(V,{flat:"",class:"mx-auto pa-8","min-width":"300px"},{default:t(()=>[r(m,null,{default:t(()=>[r(u),r(i,{color:"black-lighten-2","prepend-icon":"mdi-shape",to:{name:"ArticleCategoriesManage"}},{default:t(()=>[n(d(e.$t("back")),1)]),_:1})]),_:1}),r(w,{ref:"categoryForm",onSubmit:b(s.onSubmit,["prevent"])},{default:t(()=>[r(o,{modelValue:e.category.enName,"onUpdate:modelValue":a[0]||(a[0]=l=>e.category.enName=l),color:"primary",label:"Category Name*",variant:"underlined",rules:[e.rules.required]},null,8,["modelValue","rules"]),r(o,{modelValue:e.category.arName,"onUpdate:modelValue":a[1]||(a[1]=l=>e.category.arName=l),color:"primary",label:"اسم الفئه*",variant:"underlined",rules:[e.rules.required]},null,8,["modelValue","rules"]),r(o,{modelValue:e.category.enDescription,"onUpdate:modelValue":a[2]||(a[2]=l=>e.category.enDescription=l),color:"primary",label:"Category Description*",variant:"underlined",rules:[e.rules.required]},null,8,["modelValue","rules"]),r(o,{modelValue:e.category.arDescription,"onUpdate:modelValue":a[3]||(a[3]=l=>e.category.arDescription=l),color:"primary",label:"وصف الفئه*",variant:"underlined",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1},8,["onSubmit"]),r(g),r(p,{msg:e.msg,error:e.error},null,8,["msg","error"]),r(g),r(m,{class:"mx-10",end:""},{default:t(()=>[r(u),r(i,{width:"100px",color:"grey",variant:"elevated",onClick:s.clearForm},{default:t(()=>[n(d(e.$t("clear")),1)]),_:1},8,["onClick"]),r(i,{width:"100px",loading:e.loading,color:"green",type:"submit",variant:"elevated",onClick:s.onSubmit},{default:t(()=>[n(d(e.$t("save")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})}const A=y(F,[["render",D]]);export{A as default};
