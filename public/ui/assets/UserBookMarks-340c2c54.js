import{_ as g,u as a,c as i,w as s,k,r as n,o as l,a as r,B as f,p as h,b as c,e as _,d as C,t as M,j as V}from"./index-94f5182d.js";import{A as B}from"./ArticleComp-a0340afb.js";import{L}from"./LoadingAndErrorSc-18061d63.js";import{V as A}from"./VVirtualScroll-87940481.js";import{V as x}from"./VRow-faee6db4.js";import"./writterController-79aebcfb.js";import"./ArticleMenuList-d3e17ec4.js";import"./VMenu-1e9d216b.js";import"./VOverlay-d8fad7e3.js";import"./getScrollParent-6bb6c202.js";import"./lazy-8e629b09.js";const S={name:"ArticlesList",components:{ArticleComp:B,LoadingAndErrorSc:L},data(){return{isLoading:!0,error:!1,page:0,pageSize:0,pageCount:1,count:0,msg:null,bookMarks:[]}},async mounted(){await this.loadBookMarks()},methods:{deleteBookMark:async function(o){(await a.deleteBookMark(o.Id)).state&&this.bookMarks.pop(o)},loadBookMarks:async function(){this.isLoading=!0,this.msg=null,this.error=!1;const o=await a.getBookMarks(this.page);this.isLoading=!1,this.error=!o.state,this.msg=o.message,o.state&&(o.userBookMarks?(this.bookMarks.push(...o.userBookMarks),o.count&&(this.count=o.count,this.pageCount=o.pageCount),this.page++):this.msg="No Saved Articles ...")}}};function w(o,m,y,b,e,p){const u=n("LoadingAndErrorSc"),d=n("ArticleComp");return l(),i(k,null,{default:s(()=>[r(u,{isLoading:e.isLoading,msg:e.msg,error:e.error},null,8,["isLoading","msg","error"]),!e.isLoading&&!e.msg?(l(),i(A,{key:0,ref:"scrollRef",items:e.bookMarks,"max-height":"700px"},{default:s(({item:t})=>[r(_,{flat:""},{default:s(()=>[r(x,{class:"pa-2"},{default:s(()=>[r(f),r(h,{color:"red",class:"ma-2",onClick:v=>p.deleteBookMark(t)},{default:s(()=>[c("mdi-note-remove")]),_:2},1032,["onClick"])]),_:2},1024),r(d,{article:t.article},null,8,["article"])]),_:2},1024)]),_:1},8,["items"])):C("",!0),r(V,null,{default:s(()=>[c(M(e.page+"/"+e.pageCount),1)]),_:1})]),_:1})}const G=g(S,[["render",w]]);export{G as default};
