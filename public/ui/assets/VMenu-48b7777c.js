import{K as B,a as y,n as C,T as P,E as $,bk as b,bl as F,bm as T,bn as L,bo as K,bp as q,_ as j,o as N,c as R,w as E,B as U,a0 as X,bq as _,br as Y,j as H,b as W,e as Q,b0 as Z,O as z,bs as G,bd as J,Q as k,S as ee,bh as te,ao as ne,be as ae,bt as oe,W as se,Y as ie,aR as re,aZ as le,X as ce,bu as A,bv as ue,a1 as D}from"./index-bfaec451.js";import{m as de,a as M,V as S}from"./VOverlay-7a3023e4.js";const fe=$({target:[Object,Array]},"v-dialog-transition"),me=B()({name:"VDialogTransition",props:fe(),setup(o,f){let{slots:t}=f;const s={onBeforeEnter(a){a.style.pointerEvents="none",a.style.visibility="hidden"},async onEnter(a,g){var h;await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>requestAnimationFrame(l)),a.style.visibility="";const{x:u,y:i,sx:n,sy:d,speed:m}=O(o.target,a),p=b(a,[{transform:`translate(${u}px, ${i}px) scale(${n}, ${d})`,opacity:0},{}],{duration:225*m,easing:F});(h=I(a))==null||h.forEach(l=>{b(l,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*m,easing:T})}),p.finished.then(()=>g())},onAfterEnter(a){a.style.removeProperty("pointer-events")},onBeforeLeave(a){a.style.pointerEvents="none"},async onLeave(a,g){var h;await new Promise(l=>requestAnimationFrame(l));const{x:u,y:i,sx:n,sy:d,speed:m}=O(o.target,a);b(a,[{},{transform:`translate(${u}px, ${i}px) scale(${n}, ${d})`,opacity:0}],{duration:125*m,easing:L}).finished.then(()=>g()),(h=I(a))==null||h.forEach(l=>{b(l,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*m,easing:T})})},onAfterLeave(a){a.style.removeProperty("pointer-events")}};return()=>o.target?y(P,C({name:"dialog-transition"},s,{css:!1}),t):y(P,{name:"dialog-transition"},t)}});function I(o){var t;const f=(t=o.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return f&&[...f]}function O(o,f){const t=K(o),s=q(f),[a,g]=getComputedStyle(f).transformOrigin.split(" ").map(c=>parseFloat(c)),[u,i]=getComputedStyle(f).getPropertyValue("--v-overlay-anchor-origin").split(" ");let n=t.left+t.width/2;u==="left"||i==="left"?n-=t.width/2:(u==="right"||i==="right")&&(n+=t.width/2);let d=t.top+t.height/2;u==="top"||i==="top"?d-=t.height/2:(u==="bottom"||i==="bottom")&&(d+=t.height/2);const m=t.width/s.width,p=t.height/s.height,h=Math.max(1,m,p),l=m/h||0,V=p/h||0,e=s.width*s.height/(window.innerWidth*window.innerHeight),r=e>.12?Math.min(1.5,(e-.12)*10+1):1;return{x:n-(a+s.left),y:d-(g+s.top),sx:l,sy:V,speed:r}}const he={name:"ImageComp",props:["src","alt","mx_h","mx_w","mi_h","mi_w"]},ve={class:"d-flex align-center justify-center fill-height"};function ge(o,f,t,s,a,g){return N(),R(_,{src:t.src,alt:t.alt,fit:"","max-height":t.mx_h,"max-width":t.mx_w,"min-height":t.mi_h,"min-width":t.mi_w},{placeholder:E(()=>[U("div",ve,[y(X,{indeterminate:""})])]),error:E(()=>[y(Q,{flat:""},{default:E(()=>[y(_,{"max-width":"100","aspect-ratio":"1",src:Y}),y(H,null,{default:E(()=>[W("Faild To Load The Image")]),_:1})]),_:1})]),_:1},8,["src","alt","max-height","max-width","min-height","min-width"])}const be=j(he,[["render",ge]]);const ye=$({id:String,...Z(de({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:me}}),["absolute"])},"VMenu"),Ee=B()({name:"VMenu",props:ye(),emits:{"update:modelValue":o=>!0},setup(o,f){let{slots:t}=f;const s=z(o,"modelValue"),{scopeId:a}=G(),g=J(),u=k(()=>o.id||`v-menu-${g}`),i=ee(),n=te(M,null),d=ne(0);ae(M,{register(){++d.value},unregister(){--d.value},closeParents(e){setTimeout(()=>{!d.value&&!o.persistent&&(e==null||e&&!oe(e,i.value.contentEl))&&(s.value=!1,n==null||n.closeParents())},40)}});async function m(e){var v,w,x;const r=e.relatedTarget,c=e.target;await ce(),s.value&&r!==c&&((v=i.value)!=null&&v.contentEl)&&((w=i.value)!=null&&w.globalTop)&&![document,i.value.contentEl].includes(c)&&!i.value.contentEl.contains(c)&&((x=A(i.value.contentEl)[0])==null||x.focus())}se(s,e=>{e?(n==null||n.register(),document.addEventListener("focusin",m,{once:!0})):(n==null||n.unregister(),document.removeEventListener("focusin",m))});function p(e){n==null||n.closeParents(e)}function h(e){var r,c,v;if(!o.disabled)if(e.key==="Tab"||e.key==="Enter"&&!o.closeOnContentClick){if(e.key==="Enter"&&e.target instanceof HTMLTextAreaElement)return;e.key==="Enter"&&e.preventDefault(),ue(A((r=i.value)==null?void 0:r.contentEl,!1),e.shiftKey?"prev":"next",x=>x.tabIndex>=0)||(s.value=!1,(v=(c=i.value)==null?void 0:c.activatorEl)==null||v.focus())}else["Enter"," "].includes(e.key)&&o.closeOnContentClick&&(s.value=!1,n==null||n.closeParents())}function l(e){var c;if(o.disabled)return;const r=(c=i.value)==null?void 0:c.contentEl;r&&s.value?e.key==="ArrowDown"?(e.preventDefault(),D(r,"next")):e.key==="ArrowUp"&&(e.preventDefault(),D(r,"prev")):["ArrowDown","ArrowUp"].includes(e.key)&&(s.value=!0,e.preventDefault(),setTimeout(()=>setTimeout(()=>l(e))))}const V=k(()=>C({"aria-haspopup":"menu","aria-expanded":String(s.value),"aria-owns":u.value,onKeydown:l},o.activatorProps));return ie(()=>{const e=S.filterProps(o);return y(S,C({ref:i,id:u.value,class:["v-menu",o.class],style:o.style},e,{modelValue:s.value,"onUpdate:modelValue":r=>s.value=r,absolute:!0,activatorProps:V.value,"onClick:outside":p,onKeydown:h},a),{activator:t.activator,default:function(){for(var r=arguments.length,c=new Array(r),v=0;v<r;v++)c[v]=arguments[v];return y(re,{root:"VMenu"},{default:()=>{var w;return[(w=t.default)==null?void 0:w.call(t,...c)]}})}})}),le({id:u,Î¨openChildren:d},i)}});export{be as I,Ee as V,me as a};
