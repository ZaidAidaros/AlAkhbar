import{_ as m,R as p,L as f,u as d,c as o,w as s,e as V,r as w,o as n,a,v as g,x as h,f as i,d as b,C as y,j as v,g as N,b as $,t as k,y as C}from"./index-5a23c2e4.js";import{V as q}from"./VCheckbox-2ecd66a2.js";const U={name:"WritterInfoForm",components:{ResMsg:p,LogoComp:f},data:()=>({pageTitle:"Upgrade Your Account To Be Writter",loading:!1,error:!1,msg:null,writter:{firstName:null,middelName:null,lastName:null,familyName:null,nickName:null,nic:null,address:null,references:null},terms:!1,isEdit:!1}),mounted(){const e=this.$store.getters.getWritter;e&&(this.writter=e,this.isEdit=!0)},methods:{required:e=>!!e||"Required.",onSubmit:async function(){if((await this.$refs.writterForm.validate()).valid&&(this.terms||this.isEdit)){this.loading=!0,this.error=!1,this.msg=null;let l=null;this.isEdit?l=await d.updateWritterInfo(this.writter):l=await d.upToWritterReq(this.writter),this.loading=!1,this.msg=l.message,this.error=!l.state,l.state&&(this.$store.dispatch("setWritter",null),setTimeout(()=>{this.msg=null,this.$router.back()},2e3))}else{if(!this.terms&&!this.isEdit){this.msg="You must accept our terms",this.error=!0;return}this.msg="You must Fill Fields Correctly",this.error=!0}}}};function F(e,l,T,W,E,t){const u=w("res-msg");return n(),o(V,{flat:"","max-width":"400px",class:"mx-auto pa-4","justify-center":""},{default:s(()=>[a(v,null,{default:s(()=>[a(g,{ref:"writterForm",onSubmit:h(t.onSubmit,["prevent"]),class:"my-2"},{default:s(()=>[a(i,{modelValue:e.writter.firstName,"onUpdate:modelValue":l[0]||(l[0]=r=>e.writter.firstName=r),color:"primary",label:e.$t("fnamel"),placeholder:e.$t("fnamep"),variant:"underlined",rules:[t.required]},null,8,["modelValue","label","placeholder","rules"]),a(i,{modelValue:e.writter.middelName,"onUpdate:modelValue":l[1]||(l[1]=r=>e.writter.middelName=r),color:"primary",label:e.$t("mnamel"),placeholder:e.$t("mnamep"),variant:"underlined",rules:[t.required]},null,8,["modelValue","label","placeholder","rules"]),a(i,{modelValue:e.writter.lastName,"onUpdate:modelValue":l[2]||(l[2]=r=>e.writter.lastName=r),color:"primary",label:e.$t("lnamel"),placeholder:e.$t("lnamep"),variant:"underlined",rules:[t.required]},null,8,["modelValue","label","placeholder","rules"]),a(i,{modelValue:e.writter.familyName,"onUpdate:modelValue":l[3]||(l[3]=r=>e.writter.familyName=r),color:"primary",label:e.$t("familynamel"),placeholder:e.$t("familynamep"),variant:"underlined",rules:[t.required]},null,8,["modelValue","label","placeholder","rules"]),a(i,{modelValue:e.writter.nickName,"onUpdate:modelValue":l[4]||(l[4]=r=>e.writter.nickName=r),color:"primary",label:e.$t("nicknamel"),placeholder:e.$t("nicknamep"),variant:"underlined",rules:[t.required]},null,8,["modelValue","label","placeholder","rules"]),a(i,{modelValue:e.writter.address,"onUpdate:modelValue":l[5]||(l[5]=r=>e.writter.address=r),color:"primary",label:e.$t("addressl"),placeholder:e.$t("addressp"),variant:"underlined",rules:[t.required]},null,8,["modelValue","label","placeholder","rules"]),a(i,{modelValue:e.writter.nic,"onUpdate:modelValue":l[6]||(l[6]=r=>e.writter.nic=r),color:"primary",label:e.$t("nicl"),placeholder:e.$t("nicp"),variant:"underlined",rules:[t.required]},null,8,["modelValue","label","placeholder","rules"]),a(i,{modelValue:e.writter.references,"onUpdate:modelValue":l[7]||(l[7]=r=>e.writter.references=r),color:"primary",label:e.$t("referencesl"),placeholder:e.$t("referencesp"),variant:"underlined",rules:[t.required]},null,8,["modelValue","label","placeholder","rules"]),e.isEdit?b("",!0):(n(),o(q,{key:0,modelValue:e.terms,"onUpdate:modelValue":l[8]||(l[8]=r=>e.terms=r),label:e.$t("agreement")},null,8,["modelValue","label"])),a(u,{msg:e.msg,error:e.error},null,8,["msg","error"]),a(y)]),_:1},8,["onSubmit"])]),_:1}),a(C,{class:"d-flex flex-row justify-center"},{default:s(()=>[a(N,{loading:e.loading,block:"",color:"green",size:"large",type:"submit",variant:"elevated",large:"",onClick:t.onSubmit},{default:s(()=>[$(k(e.$t("send")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})}const B=m(U,[["render",F]]);export{B as default};
