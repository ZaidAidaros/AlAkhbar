import{_ as g,u as a,r as i,o as n,c as l,w as s,a as r,e as k,y as f,n as h,b as c,f as _,d as C,t as M,j as V}from"./index-41c6c65a.js";import{A as L}from"./ArticleComp-82be95b9.js";import{L as B}from"./LoadingAndErrorSc-56f5ce61.js";import{V as A}from"./VContainer-c38a5940.js";import{V as x}from"./VVirtualScroll-3df0e63b.js";import"./VMenu-c465b761.js";import"./VOverlay-2cbcb0a3.js";import"./getScrollParent-6bb6c202.js";import"./lazy-8213f302.js";import"./BookMark-dab6d92e.js";import"./ImageComp-5eef410e.js";const S={name:"ArticlesList",components:{ArticleComp:L,LoadingAndErrorSc:B},data(){return{isLoading:!0,error:!1,page:0,pageSize:0,pageCount:1,count:0,msg:null,bookMarks:[]}},async mounted(){await this.loadBookMarks()},methods:{deleteBookMark:async function(o){(await a.deleteBookMark(o.Id)).state&&this.bookMarks.pop(o)},loadBookMarks:async function(){this.isLoading=!0,this.msg=null,this.error=!1;const o=await a.getBookMarks(this.page);this.isLoading=!1,this.error=!o.state,this.msg=o.message,o.state&&(o.userBookMarks?(this.bookMarks.push(...o.userBookMarks),o.count&&(this.count=o.count,this.pageCount=o.pageCount),this.page++):this.msg="No Saved Articles ...")}}};function w(o,m,y,b,e,p){const u=i("LoadingAndErrorSc"),d=i("ArticleComp");return n(),l(A,null,{default:s(()=>[r(u,{isLoading:e.isLoading,msg:e.msg,error:e.error},null,8,["isLoading","msg","error"]),!e.isLoading&&!e.msg?(n(),l(x,{key:0,ref:"scrollRef",items:e.bookMarks,"max-height":"700px"},{default:s(({item:t})=>[r(_,{flat:""},{default:s(()=>[r(k,{class:"pa-2"},{default:s(()=>[r(f),r(h,{color:"red",class:"ma-2",onClick:v=>p.deleteBookMark(t)},{default:s(()=>[c("mdi-note-remove")]),_:2},1032,["onClick"])]),_:2},1024),r(d,{article:t.article},null,8,["article"])]),_:2},1024)]),_:1},8,["items"])):C("",!0),r(V,null,{default:s(()=>[c(M(e.page+"/"+e.pageCount),1)]),_:1})]),_:1})}const G=g(S,[["render",w]]);export{G as default};
